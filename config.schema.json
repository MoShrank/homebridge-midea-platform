{
  "pluginAlias": "midea",
  "pluginType": "platform",
  "singular": true,
  "schema": {
    "type": "object",
    "properties": {
      "user": {
        "title": "Midea Account Email",
        "type": "string",
        "required": true
      },
      "password": {
        "title": "Midea Account Password",
        "type": "string",
        "required": true
      },
      "registeredApp": {
        "title": "Registered App",
        "type": "string",
        "enum": [
          "Midea SmartHome (MSmartHome)",
          "NetHome Plus",
          "Meiju"
        ],
        "default": "Midea SmartHome (MSmartHome)",
        "required": true
      },
      "devices": {
        "title": "Devices",
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "ip": {
              "title": "Device IP Address",
              "type": "string",
              "required": true
            },
            "name": {
              "title": "Device Name",
              "type": "string"
            },
            "deviceType": {
              "title": "Device Type",
              "type": "string",
              "enum": [
                "Air Conditioner"
              ],
              "required": true
            },
            "singleAccessory": {
              "title": "Single Accessory",
              "type": "boolean",
              "default": true
            },
            "AC_options": {
              "title": "Options",
              "type": "object",
              "condition": {
                "functionBody": "return model.devices[arrayIndices].deviceType === 'Air Conditioner';"
              },
              "properties": {
                "swingMode": {
                  "title": "Swing Mode",
                  "type": "string",
                  "enum": [
                    "Vertical",
                    "Horizontal",
                    "Both"
                  ]
                },
                "outDoorTemp": {
                  "title": "Outdoor Temperature",
                  "type": "boolean",
                  "default": false
                },
                "audioFeedback": {
                  "title": "Audio Feedback",
                  "type": "boolean",
                  "default": false
                },
                "minTemp": {
                  "title": "Minimum Temperature",
                  "type": "integer",
                  "default": 16
                },
                "maxTemp": {
                  "title": "Maximum Temperature",
                  "type": "integer",
                  "default": 30
                },
                "tempStep": {
                  "title": "Temperature Step",
                  "type": "integer",
                  "default": 1,
                  "enum": [
                    0.5,
                    1
                  ]
                },
                "fahrenHeit": {
                  "title": "Fahrenheit",
                  "type": "boolean",
                  "default": false
                },
                "fanOnlyMode": {
                  "title": "Fan Only Mode",
                  "type": "boolean",
                  "default": false
                }
              }
            }
          }
        }
      }
    }
  },
  "layout": [
    {
      "key": "user",
      "type": "string"
    },
    {
      "key": "password",
      "type": "string"
    },
    {
      "key": "registeredApp",
      "type": "string"
    },
    {
      "key": "devices",
      "type": "array",
      "orderable": true,
      "buttonText": "Add Device",
      "items": [
        "devices[].ip",
        "devices[].name",
        "devices[].deviceType",
        "devices[].singleAccessory",
        {
          "key": "devices[].AC_options",
          "expandable": true,
          "expanded": false,
          "title": "Air Conditioner Options",
          "items": [
            "devices[].AC_options.swingMode",
            "devices[].AC_options.outDoorTemp",
            "devices[].AC_options.audioFeedback",
            "devices[].AC_options.minTemp",
            "devices[].AC_options.maxTemp",
            "devices[].AC_options.tempStep",
            "devices[].AC_options.fahrenHeit",
            "devices[].AC_options.fanOnlyMode"
          ]
        }
      ]
    }
  ]
}